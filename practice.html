<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Practice | Typing Nova</title>
    <meta name="description" content="Practice typing with real-time feedback. Improve your speed and accuracy with structured typing exercises in English and Marathi.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #3a86ff;
            --primary-dark: #2667cc;
            --secondary: #8338ec;
            --success: #38b000;
            --error: #ff006e;
            --warning: #ffbe0b;
            --light: #f8f9fa;
            --gray: #6c757d;
            --dark: #212529;
            --border: #e9ecef;
            --card-bg: #ffffff;
            --body-bg: #ffffff;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --radius: 10px;
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background-color: var(--body-bg);
            overflow-x: hidden;
            transition: var(--transition);
        }
        
        h1, h2, h3, h4 {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            line-height: 1.3;
            margin-bottom: 1rem;
        }
        
        h1 {
            font-size: 2.2rem;
            font-weight: 700;
        }
        
        h2 {
            font-size: 1.8rem;
        }
        
        h3 {
            font-size: 1.3rem;
        }
        
        p {
            margin-bottom: 1rem;
            color: var(--gray);
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }
        
        .btn {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            border-radius: var(--radius);
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-family: 'Poppins', sans-serif;
            text-decoration: none;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover:not(:disabled) {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(58, 134, 255, 0.25);
        }
        
        .btn-secondary {
            background-color: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-secondary:hover:not(:disabled) {
            background-color: rgba(58, 134, 255, 0.1);
            transform: translateY(-2px);
        }
        
        .btn-success {
            background-color: var(--success);
            color: white;
        }
        
        .btn-success:hover:not(:disabled) {
            background-color: #2d9100;
            transform: translateY(-2px);
        }
        
        .btn-error {
            background-color: var(--error);
            color: white;
        }
        
        .btn-error:hover:not(:disabled) {
            background-color: #d4005d;
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }
        
        /* Header */
        header {
            padding: 1.2rem 0;
            background-color: var(--card-bg);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-family: 'Poppins', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
        }
        
        .logo span {
            color: var(--secondary);
        }
        
        .back-link {
            text-decoration: none;
            color: var(--gray);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
        }
        
        .back-link:hover {
            color: var(--primary);
        }
        
        /* Main Content */
        .main-content {
            padding: 2.5rem 0 4rem;
        }
        
        .page-title {
            text-align: center;
            margin-bottom: 2.5rem;
        }
        
        .page-title h1 {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .page-title p {
            max-width: 700px;
            margin: 0 auto;
        }
        
        /* Practice Modes */
        .practice-modes {
            margin-bottom: 2.5rem;
        }
        
        .mode-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            justify-content: center;
        }
        
        .mode-btn {
            padding: 0.8rem 1.5rem;
            border: 2px solid var(--border);
            background-color: var(--card-bg);
            color: var(--dark);
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .mode-btn.active {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .mode-btn:hover:not(.active) {
            border-color: var(--primary);
            color: var(--primary);
        }
        
        .mode-settings {
            background-color: var(--card-bg);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            margin-top: 1.5rem;
            display: none;
        }
        
        .mode-settings.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .settings-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .settings-item {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .settings-item label {
            font-weight: 600;
            color: var(--dark);
        }
        
        select, input[type="number"] {
            padding: 0.7rem 1rem;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            background-color: var(--card-bg);
            color: var(--dark);
            transition: var(--transition);
        }
        
        select:focus, input[type="number"]:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(58, 134, 255, 0.2);
        }
        
        /* Typing Container */
        .typing-container {
            background-color: var(--card-bg);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            margin-bottom: 2rem;
        }
        
        /* Stats Bar */
        .stats-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            background-color: var(--light);
            border-bottom: 1px solid var(--border);
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 80px;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            font-family: 'Poppins', sans-serif;
        }
        
        .stat-label {
            font-size: 0.85rem;
            color: var(--gray);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .stat-item.wpm .stat-value {
            color: var(--success);
        }
        
        .stat-item.accuracy .stat-value {
            color: var(--primary);
        }
        
        .stat-item.errors .stat-value {
            color: var(--error);
        }
        
        .stat-item.timer .stat-value {
            color: var(--secondary);
        }
        
        /* Text Display */
        .text-display {
            padding: 2rem;
            font-size: 1.3rem;
            line-height: 1.8;
            min-height: 200px;
            max-height: 300px;
            overflow-y: auto;
            background-color: var(--card-bg);
            font-family: 'Courier New', monospace;
            border-bottom: 1px solid var(--border);
            user-select: none;
        }
        
        .text-display span {
            white-space: pre-wrap;
            word-break: break-word;
        }
        
        .text-display .correct {
            color: var(--success);
            background-color: rgba(56, 176, 0, 0.1);
        }
        
        .text-display .incorrect {
            color: var(--error);
            background-color: rgba(255, 0, 110, 0.1);
            text-decoration: line-through;
        }
        
        .text-display .current {
            background-color: rgba(58, 134, 255, 0.2);
            border-bottom: 2px solid var(--primary);
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* Typing Input */
        .typing-input-container {
            padding: 1.5rem;
            background-color: var(--light);
        }
        
        .typing-input {
            width: 100%;
            padding: 1.5rem;
            font-size: 1.2rem;
            line-height: 1.6;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-family: 'Courier New', monospace;
            background-color: var(--card-bg);
            color: var(--dark);
            resize: none;
            min-height: 150px;
            transition: var(--transition);
        }
        
        .typing-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(58, 134, 255, 0.2);
        }
        
        .typing-input:disabled {
            background-color: #f0f0f0;
            cursor: not-allowed;
        }
        
        .input-note {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
            font-size: 0.9rem;
            color: var(--gray);
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        /* Controls */
        .controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2.5rem;
            flex-wrap: wrap;
        }
        
        /* Results Panel */
        .results-panel {
            background-color: var(--card-bg);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 2rem;
            margin-top: 2rem;
            display: none;
        }
        
        .results-panel.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .results-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--primary);
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .result-card {
            background-color: var(--light);
            border-radius: var(--radius);
            padding: 1.5rem;
            text-align: center;
            border-top: 4px solid var(--primary);
        }
        
        .result-card.gross-wpm {
            border-top-color: var(--success);
        }
        
        .result-card.net-wpm {
            border-top-color: var(--secondary);
        }
        
        .result-card.accuracy {
            border-top-color: var(--primary);
        }
        
        .result-card.errors {
            border-top-color: var(--error);
        }
        
        .result-value {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--dark);
            font-family: 'Poppins', sans-serif;
        }
        
        .result-label {
            font-size: 1rem;
            color: var(--gray);
            margin-top: 0.5rem;
        }
        
        .results-actions {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
        }
        
        /* Footer */
        footer {
            background-color: var(--light);
            color: var(--gray);
            padding: 3rem 0 2rem;
            margin-top: 3rem;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .footer-column h3 {
            color: var(--dark);
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 0.8rem;
        }
        
        .footer-links a {
            color: var(--gray);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .footer-links a:hover {
            color: var(--primary);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid var(--border);
            font-size: 0.9rem;
        }
        
        .footer-disclaimer {
            font-size: 0.85rem;
            line-height: 1.5;
            margin-top: 1.5rem;
            color: var(--gray);
        }
        
        /* Responsive Design */
        @media (max-width: 992px) {
            h1 {
                font-size: 2rem;
            }
            
            .stats-bar {
                justify-content: center;
            }
            
            .stat-item {
                min-width: 70px;
            }
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            .stat-value {
                font-size: 1.3rem;
            }
            
            .text-display {
                font-size: 1.1rem;
                padding: 1.5rem;
            }
            
            .typing-input {
                font-size: 1.1rem;
                padding: 1rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
                text-align: center;
            }
            
            .results-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 576px) {
            h1 {
                font-size: 1.6rem;
            }
            
            .stats-bar {
                gap: 0.5rem;
            }
            
            .stat-item {
                min-width: 60px;
            }
            
            .stat-value {
                font-size: 1.2rem;
            }
            
            .text-display {
                font-size: 1rem;
                padding: 1rem;
            }
            
            .results-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-content">
            <a href="index.html" class="logo">Typing <span>Nova</span></a>
            <a href="index.html" class="back-link">
                <i class="fas fa-arrow-left"></i>
                Back to Home
            </a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Page Title -->
            <div class="page-title">
                <h1>Typing Practice</h1>
                <p>Practice typing with real-time feedback. Select your practice mode, configure settings, and start improving your typing speed and accuracy.</p>
            </div>

            <!-- Practice Modes -->
            <div class="practice-modes">
                <div class="mode-selector">
                    <button class="mode-btn active" data-mode="basic">Basic Practice</button>
                    <button class="mode-btn" data-mode="advanced">Advanced Practice</button>
                    <button class="mode-btn" data-mode="custom">Custom Practice</button>
                </div>
                
                <!-- Basic Practice Settings -->
                <div class="mode-settings active" id="basic-settings">
                    <div class="settings-group">
                        <div class="settings-item">
                            <label for="basic-language">Language</label>
                            <select id="basic-language">
                                <option value="english">English</option>
                                <option value="marathi">Marathi</option>
                            </select>
                        </div>
                        <div class="settings-item">
                            <label for="basic-difficulty">Difficulty</label>
                            <select id="basic-difficulty">
                                <option value="easy">Easy (Short Words)</option>
                                <option value="medium" selected>Medium (Simple Sentences)</option>
                                <option value="hard">Hard (Mixed Sentences)</option>
                            </select>
                        </div>
                    </div>
                    <p class="settings-description">Practice with random words and simple sentences. Perfect for beginners and daily warm-up.</p>
                </div>
                
                <!-- Advanced Practice Settings -->
                <div class="mode-settings" id="advanced-settings">
                    <div class="settings-group">
                        <div class="settings-item">
                            <label for="advanced-language">Language</label>
                            <select id="advanced-language">
                                <option value="english">English</option>
                                <option value="marathi">Marathi</option>
                            </select>
                        </div>
                        <div class="settings-item">
                            <label for="advanced-length">Text Length</label>
                            <select id="advanced-length">
                                <option value="short">Short Paragraph (100-150 chars)</option>
                                <option value="medium" selected>Medium Paragraph (150-250 chars)</option>
                                <option value="long">Long Paragraph (250-400 chars)</option>
                            </select>
                        </div>
                    </div>
                    <p class="settings-description">Practice with full paragraphs and longer text. Improve your consistency and typing endurance.</p>
                </div>
                
                <!-- Custom Practice Settings -->
                <div class="mode-settings" id="custom-settings">
                    <div class="settings-group">
                        <div class="settings-item">
                            <label for="custom-time">Time Limit (minutes)</label>
                            <select id="custom-time">
                                <option value="1">1 minute</option>
                                <option value="3" selected>3 minutes</option>
                                <option value="5">5 minutes</option>
                                <option value="10">10 minutes</option>
                            </select>
                        </div>
                        <div class="settings-item">
                            <label for="custom-language">Language</label>
                            <select id="custom-language">
                                <option value="english">English</option>
                                <option value="marathi">Marathi</option>
                            </select>
                        </div>
                        <div class="settings-item">
                            <label for="custom-backspace">Allow Backspace</label>
                            <select id="custom-backspace">
                                <option value="unlimited">Unlimited</option>
                                <option value="limited" selected>Limited (5 per minute)</option>
                                <option value="none">None (Error Counting Only)</option>
                            </select>
                        </div>
                    </div>
                    <p class="settings-description">Customize your practice session with specific time limits and settings.</p>
                </div>
            </div>

            <!-- Typing Container -->
            <div class="typing-container">
                <!-- Stats Bar -->
                <div class="stats-bar">
                    <div class="stat-item timer">
                        <div class="stat-value" id="timer">00:00</div>
                        <div class="stat-label">Time</div>
                    </div>
                    <div class="stat-item wpm">
                        <div class="stat-value" id="wpm">0</div>
                        <div class="stat-label">WPM</div>
                    </div>
                    <div class="stat-item accuracy">
                        <div class="stat-value" id="accuracy">100%</div>
                        <div class="stat-label">Accuracy</div>
                    </div>
                    <div class="stat-item errors">
                        <div class="stat-value" id="errors">0</div>
                        <div class="stat-label">Errors</div>
                    </div>
                    <div class="stat-item">
                        <button class="btn btn-error" id="resetBtn">
                            <i class="fas fa-redo"></i> Reset
                        </button>
                    </div>
                </div>

                <!-- Text Display -->
                <div class="text-display" id="textDisplay">
                    <!-- Text will be inserted here by JavaScript -->
                </div>

                <!-- Typing Input -->
                <div class="typing-input-container">
                    <textarea 
                        class="typing-input" 
                        id="typingInput" 
                        placeholder="Start typing here... The timer will begin with your first keystroke."
                        spellcheck="false"
                        autocapitalize="off"
                        autocomplete="off"
                        autocorrect="off"
                    ></textarea>
                    <div class="input-note">
                        <div>
                            <i class="fas fa-info-circle"></i>
                            <span id="languageIndicator">Language: English (QWERTY)</span>
                        </div>
                        <div>
                            <i class="fas fa-keyboard"></i>
                            <span>Backspace: <span id="backspaceIndicator">Limited</span></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls">
                <button class="btn btn-primary" id="startBtn">
                    <i class="fas fa-play"></i> Start Practice
                </button>
                <button class="btn btn-secondary" id="changeTextBtn">
                    <i class="fas fa-sync"></i> Change Text
                </button>
                <button class="btn btn-success" id="finishBtn" disabled>
                    <i class="fas fa-flag-checkered"></i> Finish Early
                </button>
            </div>

            <!-- Results Panel -->
            <div class="results-panel" id="resultsPanel">
                <h2 class="results-title">Practice Results</h2>
                <div class="results-grid">
                    <div class="result-card">
                        <div class="result-value" id="resultTotalChars">0</div>
                        <div class="result-label">Total Characters</div>
                    </div>
                    <div class="result-card gross-wpm">
                        <div class="result-value" id="resultGrossWPM">0</div>
                        <div class="result-label">Gross WPM</div>
                    </div>
                    <div class="result-card net-wpm">
                        <div class="result-value" id="resultNetWPM">0</div>
                        <div class="result-label">Net WPM</div>
                    </div>
                    <div class="result-card accuracy">
                        <div class="result-value" id="resultAccuracy">100%</div>
                        <div class="result-label">Accuracy</div>
                    </div>
                    <div class="result-card errors">
                        <div class="result-value" id="resultErrors">0</div>
                        <div class="result-label">Errors</div>
                    </div>
                    <div class="result-card">
                        <div class="result-value" id="resultTime">0:00</div>
                        <div class="result-label">Time Taken</div>
                    </div>
                </div>
                <div class="results-actions">
                    <button class="btn btn-primary" id="practiceAgainBtn">
                        <i class="fas fa-redo"></i> Practice Again
                    </button>
                    <button class="btn btn-secondary" id="newTextBtn">
                        <i class="fas fa-sync"></i> New Text
                    </button>
                </div>
            </div>

            <!-- AdSense Safe Area (For Ads) -->
            <div class="ad-safe-area" style="margin-top: 3rem; padding: 1rem; background-color: var(--light); border-radius: var(--radius); text-align: center; color: var(--gray);">
                <p><i class="fas fa-ad"></i> Advertisement space (AdSense safe area)</p>
                <p style="font-size: 0.9rem; margin-top: 0.5rem;">This area is designed for advertisements and will not interfere with your typing practice.</p>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Typing Nova</h3>
                    <p>Practice. Improve. Perform.</p>
                    <p>A dedicated platform for improving typing speed and accuracy through structured practice.</p>
                </div>
                
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="#">Practice</a></li>
                        <li><a href="#">Speed Test</a></li>
                        <li><a href="#">Passage Typing</a></li>
                        <li><a href="#">Results</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Resources</h3>
                    <ul class="footer-links">
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Contact</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms & Conditions</a></li>
                        <li><a href="#">Disclaimer</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-disclaimer">
                <p><strong>Disclaimer:</strong> Typing Nova is an independent typing practice platform designed to help users improve their typing skills. This website is not affiliated with, endorsed by, or connected to any official testing organizations, government bodies, or certification programs. All content is provided for educational and practice purposes only.</p>
                <p>Results may vary based on individual practice and dedication. We make no guarantees regarding specific typing speed improvements or outcomes.</p>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; <span id="currentYear"></span> Typing Nova. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // ==================== CONFIGURATION ====================
        const PRACTICE_TEXTS = {
            english: {
                easy: [
                    "cat dog sun moon rain",
                    "book pen desk chair lamp",
                    "run jump play swim walk",
                    "red blue green yellow black",
                    "one two three four five",
                    "apple banana orange grape",
                    "house car tree road sky",
                    "day night time hour minute",
                    "good bad hot cold fast slow",
                    "man woman child friend family"
                ],
                medium: [
                    "The quick brown fox jumps over the lazy dog.",
                    "Typing practice helps improve speed and accuracy.",
                    "Regular practice is key to becoming a better typist.",
                    "Focus on accuracy first, then gradually increase speed.",
                    "Keep your fingers on the home row for better technique.",
                    "Take breaks during long typing sessions to avoid strain.",
                    "Proper posture is important for comfortable typing.",
                    "Practice with different texts to improve versatility.",
                    "Consistent practice yields the best long-term results.",
                    "Challenge yourself with progressively difficult texts."
                ],
                hard: [
                    "Programming is the process of creating a set of instructions that tell a computer how to perform a task. Programming can be done using a variety of computer programming languages, such as JavaScript, Python, and C++.",
                    "The importance of touch typing cannot be overstated in today's digital world. As we spend increasing amounts of time interacting with computers and mobile devices, efficient typing skills have become essential for productivity and communication.",
                    "Regular typing practice offers numerous benefits beyond simply increasing words per minute. It can reduce physical strain, improve focus, and enhance overall computer proficiency. Dedicated practice sessions help build muscle memory that makes typing feel natural and effortless.",
                    "Effective communication in the digital age relies heavily on written text. Whether composing emails, writing reports, or chatting with colleagues, the ability to type quickly and accurately significantly impacts professional success and personal productivity."
                ]
            },
            marathi: {
                easy: [
                    "माणूस घर पाणी फुल",
                    "किताब पेन मेज खुर्ची",
                    "धाव उडी खेळ पोह चाल",
                    "लाल निळा हिरवा पिवळा काळा",
                    "एक दोन तीन चार पाच",
                    "सफरचंद केळी संत्रे द्राक्ष",
                    "गाडी झाड रस्ता आकाश",
                    "दिवस रात्र वेळ तास मिनिट",
                    "चांगले वाईट गरम थंड जलद मंद",
                    "पुरुष स्त्री मुल मित्र कुटुंब"
                ],
                medium: [
                    "तुमच्या टायपिंग स्पीड आणि अचूकता सुधारण्यासाठी सराव आवश्यक आहे.",
                    "नियमित सराव चांगला टंचक बनण्याची गुरुकिल्ली आहे.",
                    "प्रथम अचूकतेवर लक्ष केंद्रित करा, नंतर हळूहळू गती वाढवा.",
                    "चांगल्या तंत्रासाठी तुमच्या बोटांना होम रोवर ठेवा.",
                    "ताण टाळण्यासाठी लांब टायपिंग सत्रादरम्यान विश्रांती घ्या.",
                    "आरामदायी टायपिंगसाठी योग्य पोझिशन महत्त्वाचे आहे.",
                    "अष्टपैलुत्व सुधारण्यासाठी भिन्न मजकुरासह सराव करा.",
                    "सातत्यपूर्ण सरावामुळे दीर्घकालीन परिणाम मिळतात.",
                    "वाढत्या कठीण मजकुरासह स्वतःला आव्हान द्या.",
                    "टच टायपिंग आजच्या डिजिटल जगात अत्यंत महत्त्वाचे आहे."
                ],
                hard: [
                    "मराठी भाषेचा इतिहास खूप समृद्ध आहे. महाराष्ट्रातील संत कवींनी मराठी साहित्याला उत्कृष्ट रूप दिले आहे. संत ज्ञानेश्वर, संत तुकाराम, संत एकनाथ यांसारख्या संतकवींनी मराठी भाषेला नवीन दिशा दिली.",
                    "टंचण कला केवळ वेगवान टंचण्यापुरती मर्यादित नाही. ही एक संपूर्ण कौशल्ये आहे ज्यामध्ये अचूकता, सातत्य आणि सहजता यांचा समावेश होतो. नियमित सरावामुळे या सर्व गुणांमध्ये सुधारणा होते.",
                    "डिजिटल युगात, टंचण कौशल्य व्यावसायिक यशासाठी आवश्यक आहे. ईमेल, अहवाल, प्रस्तुतीकरण आणि इतर व्यावसायिक संप्रेषणासाठी प्रभावी टंचण क्षमता महत्त्वपूर्ण भूमिका बजावते. नियमित सरावामुळे ही कौशल्ये विकसित करता येतात."
                ]
            }
        };

        // ==================== STATE MANAGEMENT ====================
        const state = {
            // Practice settings
            mode: 'basic',
            language: 'english',
            timeLimit: 3, // minutes
            backspaceMode: 'limited',
            difficulty: 'medium',
            textLength: 'medium',
            
            // Practice state
            isActive: false,
            isFinished: false,
            startTime: null,
            timerInterval: null,
            elapsedSeconds: 0,
            
            // Typing state
            currentText: '',
            currentIndex: 0,
            typedChars: [],
            errorCount: 0,
            backspaceCount: 0,
            lastBackspaceReset: null,
            
            // Results
            results: {
                totalChars: 0,
                correctChars: 0,
                incorrectChars: 0,
                grossWPM: 0,
                netWPM: 0,
                accuracy: 100,
                errors: 0,
                timeTaken: 0
            }
        };

        // ==================== DOM ELEMENTS ====================
        const elements = {
            // Mode buttons
            modeButtons: document.querySelectorAll('.mode-btn'),
            
            // Settings containers
            basicSettings: document.getElementById('basic-settings'),
            advancedSettings: document.getElementById('advanced-settings'),
            customSettings: document.getElementById('custom-settings'),
            
            // Settings inputs
            basicLanguage: document.getElementById('basic-language'),
            basicDifficulty: document.getElementById('basic-difficulty'),
            advancedLanguage: document.getElementById('advanced-language'),
            advancedLength: document.getElementById('advanced-length'),
            customTime: document.getElementById('custom-time'),
            customLanguage: document.getElementById('custom-language'),
            customBackspace: document.getElementById('custom-backspace'),
            
            // Stats display
            timer: document.getElementById('timer'),
            wpm: document.getElementById('wpm'),
            accuracy: document.getElementById('accuracy'),
            errors: document.getElementById('errors'),
            
            // Text and input
            textDisplay: document.getElementById('textDisplay'),
            typingInput: document.getElementById('typingInput'),
            languageIndicator: document.getElementById('languageIndicator'),
            backspaceIndicator: document.getElementById('backspaceIndicator'),
            
            // Control buttons
            resetBtn: document.getElementById('resetBtn'),
            startBtn: document.getElementById('startBtn'),
            changeTextBtn: document.getElementById('changeTextBtn'),
            finishBtn: document.getElementById('finishBtn'),
            
            // Results panel
            resultsPanel: document.getElementById('resultsPanel'),
            resultTotalChars: document.getElementById('resultTotalChars'),
            resultGrossWPM: document.getElementById('resultGrossWPM'),
            resultNetWPM: document.getElementById('resultNetWPM'),
            resultAccuracy: document.getElementById('resultAccuracy'),
            resultErrors: document.getElementById('resultErrors'),
            resultTime: document.getElementById('resultTime'),
            practiceAgainBtn: document.getElementById('practiceAgainBtn'),
            newTextBtn: document.getElementById('newTextBtn')
        };

        // ==================== UTILITY FUNCTIONS ====================
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        function getRandomText() {
            const texts = PRACTICE_TEXTS[state.language];
            
            if (state.mode === 'basic') {
                const difficulty = state.difficulty;
                const textList = texts[difficulty];
                return textList[Math.floor(Math.random() * textList.length)];
            } 
            else if (state.mode === 'advanced') {
                const length = state.textLength;
                // For advanced mode, we use hard texts with different lengths
                const textList = texts.hard;
                let selectedText = textList[Math.floor(Math.random() * textList.length)];
                
                // Adjust length if needed
                if (length === 'short' && selectedText.length > 150) {
                    selectedText = selectedText.substring(0, 150);
                } else if (length === 'medium' && selectedText.length > 250) {
                    selectedText = selectedText.substring(0, 250);
                } else if (length === 'long' && selectedText.length > 400) {
                    selectedText = selectedText.substring(0, 400);
                }
                
                return selectedText;
            }
            else { // custom mode
                // For custom mode, we can use any difficulty based on user preference
                const textList = texts.medium; // Default to medium
                return textList[Math.floor(Math.random() * textList.length)];
            }
        }

        function calculateWPM() {
            if (state.elapsedSeconds === 0) return { gross: 0, net: 0 };
            
            const minutes = state.elapsedSeconds / 60;
            const totalChars = state.currentIndex;
            
            // Gross WPM = (total characters / 5) ÷ minutes
            const grossWPM = (totalChars / 5) / minutes;
            
            // Net WPM = Gross WPM - errors
            const netWPM = Math.max(0, grossWPM - state.errorCount);
            
            return { gross: Math.round(grossWPM * 10) / 10, net: Math.round(netWPM * 10) / 10 };
        }

        function calculateAccuracy() {
            if (state.currentIndex === 0) return 100;
            
            const correctChars = state.currentIndex - state.errorCount;
            return Math.max(0, Math.round((correctChars / state.currentIndex) * 100 * 10) / 10);
        }

        // ==================== TEXT RENDERING ====================
        function renderText() {
            const text = state.currentText;
            let html = '';
            
            for (let i = 0; i < text.length; i++) {
                let charClass = '';
                
                if (i < state.currentIndex) {
                    // Character has been typed
                    const typedChar = state.typedChars[i];
                    const correctChar = text[i];
                    
                    if (typedChar === correctChar) {
                        charClass = 'correct';
                    } else {
                        charClass = 'incorrect';
                    }
                } else if (i === state.currentIndex) {
                    // Current character to type
                    charClass = 'current';
                }
                
                // Handle spaces specially
                if (text[i] === ' ') {
                    html += `<span class="${charClass}">&nbsp;</span>`;
                } else {
                    html += `<span class="${charClass}">${text[i]}</span>`;
                }
            }
            
            elements.textDisplay.innerHTML = html;
            
            // Scroll to keep current character in view
            const currentCharElement = elements.textDisplay.querySelector('.current');
            if (currentCharElement) {
                currentCharElement.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' });
            }
        }

        // ==================== TYPING LOGIC ====================
        function handleTyping(e) {
            // Prevent default for tab key to avoid losing focus
            if (e.key === 'Tab') {
                e.preventDefault();
                return;
            }
            
            // Start timer on first keystroke if not already active
            if (!state.isActive && !state.isFinished) {
                startPractice();
            }
            
            // If finished, don't process more input
            if (state.isFinished) {
                e.preventDefault();
                return;
            }
            
            const input = elements.typingInput.value;
            const currentChar = state.currentText[state.currentIndex];
            
            // Handle backspace
            if (e.key === 'Backspace') {
                e.preventDefault();
                
                // Check backspace restrictions
                if (!canUseBackspace()) {
                    return;
                }
                
                if (state.currentIndex > 0) {
                    state.currentIndex--;
                    state.backspaceCount++;
                    
                    // If we're correcting an error, reduce error count
                    const typedChar = state.typedChars[state.currentIndex];
                    const correctChar = state.currentText[state.currentIndex];
                    if (typedChar !== correctChar) {
                        state.errorCount = Math.max(0, state.errorCount - 1);
                    }
                    
                    // Remove from typed chars array
                    state.typedChars.pop();
                    
                    // Clear input (we'll set it manually)
                    elements.typingInput.value = state.typedChars.join('');
                    
                    renderText();
                    updateStats();
                }
                return;
            }
            
            // Ignore modifier keys
            if (e.key.length !== 1 || e.ctrlKey || e.altKey || e.metaKey) {
                return;
            }
            
            // Prevent paste, cut, copy
            if (e.ctrlKey && (e.key === 'v' || e.key === 'c' || e.key === 'x')) {
                e.preventDefault();
                return;
            }
            
            // If we've reached the end of text
            if (state.currentIndex >= state.currentText.length) {
                e.preventDefault();
                finishPractice();
                return;
            }
            
            // Process the typed character
            const typedChar = input.charAt(input.length - 1);
            
            // Store the typed character
            state.typedChars[state.currentIndex] = typedChar;
            
            // Check if correct
            if (typedChar !== currentChar) {
                state.errorCount++;
            }
            
            // Move to next character
            state.currentIndex++;
            
            // Render updated text
            renderText();
            
            // Update stats
            updateStats();
            
            // Check if we've reached the end
            if (state.currentIndex >= state.currentText.length) {
                finishPractice();
            }
            
            // Check time limit for custom mode
            if (state.mode === 'custom' && state.elapsedSeconds >= state.timeLimit * 60) {
                finishPractice();
            }
        }

        function canUseBackspace() {
            if (state.backspaceMode === 'unlimited') return true;
            if (state.backspaceMode === 'none') return false;
            
            // Limited mode: check if we've exceeded backspace limit for this minute
            const now = Date.now();
            if (!state.lastBackspaceReset || now - state.lastBackspaceReset > 60000) {
                // Reset backspace count for new minute
                state.backspaceCount = 0;
                state.lastBackspaceReset = now;
                return true;
            }
            
            // Allow up to 5 backspaces per minute
            return state.backspaceCount < 5;
        }

        // ==================== PRACTICE CONTROLS ====================
        function startPractice() {
            if (state.isActive || state.isFinished) return;
            
            state.isActive = true;
            state.startTime = Date.now();
            
            // Start timer
            state.timerInterval = setInterval(updateTimer, 1000);
            
            // Update UI
            elements.startBtn.disabled = true;
            elements.finishBtn.disabled = false;
            elements.typingInput.disabled = false;
            elements.typingInput.focus();
            
            // Clear any previous results
            elements.resultsPanel.classList.remove('active');
        }

        function resetPractice() {
            // Clear timer
            if (state.timerInterval) {
                clearInterval(state.timerInterval);
                state.timerInterval = null;
            }
            
            // Reset state
            state.isActive = false;
            state.isFinished = false;
            state.startTime = null;
            state.elapsedSeconds = 0;
            state.currentIndex = 0;
            state.typedChars = [];
            state.errorCount = 0;
            state.backspaceCount = 0;
            state.lastBackspaceReset = null;
            
            // Clear input
            elements.typingInput.value = '';
            elements.typingInput.disabled = false;
            
            // Reset UI
            elements.startBtn.disabled = false;
            elements.finishBtn.disabled = true;
            elements.timer.textContent = '00:00';
            elements.wpm.textContent = '0';
            elements.accuracy.textContent = '100%';
            elements.errors.textContent = '0';
            
            // Hide results
            elements.resultsPanel.classList.remove('active');
            
            // Generate new text if needed
            if (!state.currentText) {
                loadNewText();
            } else {
                renderText();
            }
            
            // Focus on input
            elements.typingInput.focus();
        }

        function finishPractice() {
            if (!state.isActive || state.isFinished) return;
            
            state.isActive = false;
            state.isFinished = true;
            
            // Clear timer
            if (state.timerInterval) {
                clearInterval(state.timerInterval);
                state.timerInterval = null;
            }
            
            // Disable input
            elements.typingInput.disabled = true;
            elements.finishBtn.disabled = true;
            
            // Calculate final results
            calculateResults();
            displayResults();
        }

        function updateTimer() {
            if (!state.isActive) return;
            
            state.elapsedSeconds = Math.floor((Date.now() - state.startTime) / 1000);
            elements.timer.textContent = formatTime(state.elapsedSeconds);
            
            // Update WPM and accuracy in real-time
            updateStats();
            
            // Check time limit for custom mode
            if (state.mode === 'custom' && state.elapsedSeconds >= state.timeLimit * 60) {
                finishPractice();
            }
        }

        function updateStats() {
            const wpm = calculateWPM();
            const accuracy = calculateAccuracy();
            
            elements.wpm.textContent = wpm.net;
            elements.accuracy.textContent = `${accuracy}%`;
            elements.errors.textContent = state.errorCount;
        }

        // ==================== RESULTS CALCULATION ====================
        function calculateResults() {
            const totalChars = state.currentIndex;
            const correctChars = totalChars - state.errorCount;
            const minutes = Math.max(0.1, state.elapsedSeconds / 60); // Avoid division by zero
            
            // Gross WPM = (total characters / 5) ÷ minutes
            const grossWPM = (totalChars / 5) / minutes;
            
            // Net WPM = Gross WPM - errors
            const netWPM = Math.max(0, grossWPM - state.errorCount);
            
            // Accuracy = (correct characters ÷ total typed) × 100
            const accuracy = totalChars > 0 ? (correctChars / totalChars) * 100 : 100;
            
            state.results = {
                totalChars: totalChars,
                correctChars: correctChars,
                incorrectChars: state.errorCount,
                grossWPM: Math.round(grossWPM * 10) / 10,
                netWPM: Math.round(netWPM * 10) / 10,
                accuracy: Math.round(accuracy * 10) / 10,
                errors: state.errorCount,
                timeTaken: state.elapsedSeconds
            };
        }

        function displayResults() {
            elements.resultTotalChars.textContent = state.results.totalChars;
            elements.resultGrossWPM.textContent = state.results.grossWPM;
            elements.resultNetWPM.textContent = state.results.netWPM;
            elements.resultAccuracy.textContent = `${state.results.accuracy}%`;
            elements.resultErrors.textContent = state.results.errors;
            elements.resultTime.textContent = formatTime(state.results.timeTaken);
            
            elements.resultsPanel.classList.add('active');
            
            // Scroll to results
            elements.resultsPanel.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // ==================== TEXT MANAGEMENT ====================
        function loadNewText() {
            state.currentText = getRandomText();
            renderText();
            
            // Reset typing state
            state.currentIndex = 0;
            state.typedChars = [];
            state.errorCount = 0;
            state.backspaceCount = 0;
            
            // Clear input
            elements.typingInput.value = '';
            
            // Update stats display
            elements.wpm.textContent = '0';
            elements.accuracy.textContent = '100%';
            elements.errors.textContent = '0';
        }

        function updateSettingsFromUI() {
            if (state.mode === 'basic') {
                state.language = elements.basicLanguage.value;
                state.difficulty = elements.basicDifficulty.value;
            } else if (state.mode === 'advanced') {
                state.language = elements.advancedLanguage.value;
                state.textLength = elements.advancedLength.value;
            } else if (state.mode === 'custom') {
                state.language = elements.customLanguage.value;
                state.timeLimit = parseInt(elements.customTime.value);
                state.backspaceMode = elements.customBackspace.value;
            }
            
            // Update indicators
            elements.languageIndicator.textContent = `Language: ${state.language === 'english' ? 'English (QWERTY)' : 'Marathi (InScript/Remington)'}`;
            elements.backspaceIndicator.textContent = 
                state.backspaceMode === 'unlimited' ? 'Unlimited' : 
                state.backspaceMode === 'none' ? 'Disabled' : 'Limited';
        }

        // ==================== EVENT LISTENERS ====================
        function initializeEventListeners() {
            // Mode buttons
            elements.modeButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Update active button
                    elements.modeButtons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    // Update mode
                    state.mode = btn.dataset.mode;
                    
                    // Show/hide settings
                    elements.basicSettings.classList.remove('active');
                    elements.advancedSettings.classList.remove('active');
                    elements.customSettings.classList.remove('active');
                    
                    if (state.mode === 'basic') {
                        elements.basicSettings.classList.add('active');
                    } else if (state.mode === 'advanced') {
                        elements.advancedSettings.classList.add('active');
                    } else if (state.mode === 'custom') {
                        elements.customSettings.classList.add('active');
                    }
                    
                    // Update settings from UI
                    updateSettingsFromUI();
                    
                    // Reset practice with new settings
                    if (state.isActive) {
                        if (confirm('Changing mode will reset your current practice. Continue?')) {
                            resetPractice();
                        }
                    } else {
                        loadNewText();
                    }
                });
            });
            
            // Settings changes
            elements.basicLanguage.addEventListener('change', () => {
                updateSettingsFromUI();
                if (!state.isActive) loadNewText();
            });
            
            elements.basicDifficulty.addEventListener('change', () => {
                updateSettingsFromUI();
                if (!state.isActive) loadNewText();
            });
            
            elements.advancedLanguage.addEventListener('change', () => {
                updateSettingsFromUI();
                if (!state.isActive) loadNewText();
            });
            
            elements.advancedLength.addEventListener('change', () => {
                updateSettingsFromUI();
                if (!state.isActive) loadNewText();
            });
            
            elements.customLanguage.addEventListener('change', () => {
                updateSettingsFromUI();
                if (!state.isActive) loadNewText();
            });
            
            elements.customTime.addEventListener('change', () => {
                updateSettingsFromUI();
                // Update timer display if practice hasn't started
                if (!state.isActive) {
                    elements.timer.textContent = `${state.timeLimit}:00`;
                }
            });
            
            elements.customBackspace.addEventListener('change', () => {
                updateSettingsFromUI();
            });
            
            // Typing input
            elements.typingInput.addEventListener('keydown', handleTyping);
            elements.typingInput.addEventListener('paste', (e) => e.preventDefault());
            elements.typingInput.addEventListener('cut', (e) => e.preventDefault());
            elements.typingInput.addEventListener('copy', (e) => e.preventDefault());
            
            // Control buttons
            elements.startBtn.addEventListener('click', startPractice);
            elements.resetBtn.addEventListener('click', resetPractice);
            elements.changeTextBtn.addEventListener('click', () => {
                if (state.isActive) {
                    if (confirm('Changing text will reset your current practice. Continue?')) {
                        resetPractice();
                        loadNewText();
                    }
                } else {
                    loadNewText();
                }
            });
            elements.finishBtn.addEventListener('click', finishPractice);
            
            // Results buttons
            elements.practiceAgainBtn.addEventListener('click', resetPractice);
            elements.newTextBtn.addEventListener('click', () => {
                resetPractice();
                loadNewText();
            });
        }

        // ==================== INITIALIZATION ====================
        function initialize() {
            // Set current year in footer
            document.getElementById('currentYear').textContent = new Date().getFullYear();
            
            // Initialize event listeners
            initializeEventListeners();
            
            // Load initial text
            updateSettingsFromUI();
            loadNewText();
            
            // Focus on input
            elements.typingInput.focus();
        }

        // ==================== START APPLICATION ====================
        document.addEventListener('DOMContentLoaded', initialize);
    </script>
</body>
</html>
